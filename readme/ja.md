<p align="center">
  <a href="https://docs.mind-elixir.com" target="_blank" rel="noopener noreferrer">
    <img width="150" src="https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/logo2.png" alt="mindelixir logo2">
  </a>
  <h1 align="center">Mind Elixir</h1>
</p>

<p align="center">
  <a href="https://www.npmjs.com/package/mind-elixir">
    <img src="https://img.shields.io/npm/v/mind-elixir" alt="version">
  </a>
  <a href="https://github.com/ssshooter/mind-elixir-core/blob/master/LICENSE">
    <img src="https://img.shields.io/npm/l/mind-elixir" alt="license">
  </a>
  <a href="https://app.codacy.com/gh/ssshooter/mind-elixir-core?utm_source=github.com&utm_medium=referral&utm_content=ssshooter/mind-elixir-core&utm_campaign=Badge_Grade_Settings">
    <img src="https://api.codacy.com/project/badge/Grade/09fadec5bf094886b30cea6aabf3a88b" alt="code quality">
  </a>
  <a href="https://bundlephobia.com/result?p=mind-elixir">
    <img src="https://badgen.net/bundlephobia/dependency-count/mind-elixir" alt="dependency-count">
  </a>
  <a href="https://packagephobia.com/result?p=mind-elixir">
    <img src="https://packagephobia.com/badge?p=mind-elixir" alt="package size">
  </a>
</p>

[English](/readme.md)
[ä¸­æ–‡](/readme/zh.md)
[EspaÃ±ol](/readme/es.md)
[FranÃ§ais](/readme/fr.md)
[PortuguÃªs](/readme/pt.md)
[Ğ ÑƒÑÑĞºĞ¸Ğ¹](/readme/ru.md)
[æ—¥æœ¬èª](/readme/ja.md)

Mind Elixirã¯ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®JavaScriptãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã‚³ã‚¢ã§ã™ã€‚ãŠå¥½ã¿ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚

ç‰¹å¾´ï¼š

- è»½é‡
- é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯¾å¿œ
- ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—/ãƒãƒ¼ãƒ‰ç·¨é›†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å†…è”µ
- SVG/PNG/HTMLã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¯èƒ½
- ãƒãƒ¼ãƒ‰ã®è¦ç´„
- ä¸€æ‹¬æ“ä½œå¯¾å¿œ
- å…ƒã«æˆ»ã™/ã‚„ã‚Šç›´ã—
- åŠ¹ç‡çš„ãªã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
- CSSã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå®¹æ˜“

<details>
<summary>ç›®æ¬¡</summary>

- [ãƒ‡ãƒ¢ã‚’è©¦ã™](#ãƒ‡ãƒ¢ã‚’è©¦ã™)
  - [ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](#ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰)
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
- [ä½¿ã„æ–¹](#ä½¿ã„æ–¹)
  - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
    - [NPM](#npm)
    - [ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°](#ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°)
  - [åˆæœŸåŒ–](#åˆæœŸåŒ–)
  - [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ )
  - [ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](#ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)
  - [ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ](#ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)
  - [æ“ä½œã‚¬ãƒ¼ãƒ‰](#æ“ä½œã‚¬ãƒ¼ãƒ‰)
- [ç”»åƒã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ](#ç”»åƒã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ)
  - [æ–¹æ³•1](#æ–¹æ³•1)
  - [æ–¹æ³•2](#æ–¹æ³•2)
- [API](#api)
- [ãƒ†ãƒ¼ãƒ](#ãƒ†ãƒ¼ãƒ)
- [ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ](#ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ)
- [ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ](#ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ )
- [é–‹ç™º](#é–‹ç™º)
- [è¬è¾](#è¬è¾)
- [è²¢çŒ®è€…](#è²¢çŒ®è€…)

</details>

## ãƒ‡ãƒ¢ã‚’è©¦ã™

![mindelixir](https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/screenshot2.png)

https://mind-elixir.com/

### ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰

- Vanilla JS - https://codepen.io/ssshooter/pen/OJrJowN
- React - https://codesandbox.io/s/mind-elixir-3-x-react-18-x-vy9fcq
- Vue3 - https://codesandbox.io/s/mind-elixir-3-x-vue3-lth484
- Vue2 - https://codesandbox.io/s/mind-elixir-3-x-vue-2-x-5kdfjp

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

https://docs.mind-elixir.com/

## ä½¿ã„æ–¹

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

#### NPM

```bash
npm i mind-elixir -S
```

```javascript
import MindElixir from 'mind-elixir'
```

#### ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°

```html
<script type="module" src="https://cdn.jsdelivr.net/npm/mind-elixir/dist/MindElixir.js"></script>
```

### åˆæœŸåŒ–

```html
<div id="map"></div>
<style>
  #map {
    height: 500px;
    width: 100%;
  }
</style>
```

**é‡è¦ãªå¤‰æ›´** ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.0.0ä»¥é™ã€`data`ã¯`options`ã§ã¯ãªã`init()`ã«æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```javascript
import MindElixir from 'mind-elixir'
import example from 'mind-elixir/dist/example1'

let options = {
  el: '#map', // ã¾ãŸã¯HTMLDivElement
  direction: MindElixir.LEFT,
  draggable: true, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
  contextMenu: true, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
  toolBar: true, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
  nodeMenu: true, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
  keypress: true, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯true
  locale: 'ja', // [zh_CN,zh_TW,en,ja,pt,ru] PRså‹Ÿé›†ä¸­
  overflowHidden: false, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯false
  mainLinkStyle: 2, // [1,2] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯1
  mouseSelectionButton: 0, // 0ã¯å·¦ã‚¯ãƒªãƒƒã‚¯ã€2ã¯å³ã‚¯ãƒªãƒƒã‚¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯0
  contextMenuOption: {
    focus: true,
    link: true,
    extend: [
      {
        name: 'ãƒãƒ¼ãƒ‰ç·¨é›†',
        onclick: () => {
          alert('æ‹¡å¼µãƒ¡ãƒ‹ãƒ¥ãƒ¼')
        },
      },
    ],
  },
  before: {
    insertSibling(el, obj) {
      return true
    },
    async addChild(el, obj) {
      await sleep()
      return true
    },
  },
}

let mind = new MindElixir(options)

mind.install(plugin) // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

// æ–°ã—ã„ãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ
const data = MindElixir.new('æ–°ã—ã„ãƒˆãƒ”ãƒƒã‚¯')
// ã¾ãŸã¯ `example`
// ã¾ãŸã¯ `.getData()`ã®æˆ»ã‚Šå€¤
mind.init(data)

// ãƒãƒ¼ãƒ‰ã®å–å¾—
MindElixir.E('node-id')
```

### ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
// ç¾åœ¨ã®ãƒãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
const nodeData = {
  topic: 'ãƒãƒ¼ãƒ‰ã®ãƒˆãƒ”ãƒƒã‚¯',
  id: 'bd1c24420cd2c2f5',
  style: { fontSize: '32', color: '#3298db', background: '#ecf0f1' },
  expanded: true,
  parent: null,
  tags: ['ã‚¿ã‚°'],
  icons: ['ğŸ˜€'],
  hyperLink: 'https://github.com/ssshooter/mind-elixir-core',
  image: {
    url: 'https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/logo2.png', // å¿…é ˆ
    height: 90, // å¿…é ˆ
    width: 90, // å¿…é ˆ
  },
  children: [
    {
      topic: 'å­ãƒãƒ¼ãƒ‰',
      id: 'xxxx',
      // ...
    },
  ],
}
```

### ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```javascript
mind.bus.addListener('operation', operation => {
  console.log(operation)
  // return {
  //   name: action name,
  //   obj: target object
  // }

  // name: [insertSibling|addChild|removeNode|beginEdit|finishEdit]
  // obj: target

  // name: moveNode
  // obj: {from:target1,to:target2}
})

mind.bus.addListener('selectNode', node => {
  console.log(node)
})

mind.bus.addListener('expandNode', node => {
  console.log('expandNode: ', node)
})
```

### ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```javascript
// ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
const data = mind.getData() // JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€src/example.jsã‚’å‚ç…§
mind.getDataString() // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—åŒ–
mind.getDataMd() // Markdown

// ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
// åˆæœŸåŒ–
let mind = new MindElixir(options)
mind.init(data)
// ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
mind.refresh(data)
```

### æ“ä½œã‚¬ãƒ¼ãƒ‰

```javascript
let mind = new MindElixir({
  // ...
  before: {
    insertSibling(el, obj) {
      console.log(el, obj)
      if (this.currentNode.nodeObj.parent.root) {
        return false
      }
      return true
    },
    async addChild(el, obj) {
      await sleep()
      if (this.currentNode.nodeObj.parent.root) {
        return false
      }
      return true
    },
  },
})
```

## ç”»åƒã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

### æ–¹æ³•1

```typescript
const mind = {
  /** mind elixir instance */
}
const downloadPng = async () => {
  const blob = await mind.exportPng() // Blobã‚’å–å¾—
  if (!blob) return
  const url = URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = 'filename.png'
  a.click()
  URL.revokeObjectURL(url)
}
```

### æ–¹æ³•2

`@ssshooter/modern-screenshot`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€æ¬¡ã«å®Ÿè¡Œã—ã¾ã™ï¼š

```typescript
import { domToPng } from '@ssshooter/modern-screenshot'

const download = async () => {
  const dataUrl = await domToPng(mind.nodes, {
    onCloneNode: node => {
      const n = node as HTMLDivElement
      n.style.position = ''
      n.style.top = ''
      n.style.left = ''
      n.style.bottom = ''
      n.style.right = ''
    },
    padding: 300,
    quality: 1,
  })
  const link = document.createElement('a')
  link.download = 'screenshot.png'
  link.href = dataUrl
  link.click()
}
```

## API

https://github.com/ssshooter/mind-elixir-core/blob/master/api/mind-elixir.api.md

## ãƒ†ãƒ¼ãƒ

```javascript
const options = {
  // ...
  theme: {
    name: 'Dark',
    // ãƒ¡ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã®ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
    palette: ['#848FA0', '#748BE9', '#D2F9FE', '#4145A5', '#789AFA', '#706CF4', '#EF987F', '#775DD5', '#FCEECF', '#DA7FBC'],
    // CSSå¤‰æ•°ã®ä¸Šæ›¸ã
    cssVar: {
      '--main-color': '#ffffff',
      '--main-bgcolor': '#4c4f69',
      '--color': '#cccccc',
      '--bgcolor': '#252526',
      '--panel-color': '255, 255, 255',
      '--panel-bgcolor': '45, 55, 72',
    },
    // ã™ã¹ã¦ã®å¤‰æ•°ã¯/src/index.lessã‚’å‚ç…§
  },
  // ...
}

// ...

mind.changeTheme({
  name: 'Latte',
  palette: ['#dd7878', '#ea76cb', '#8839ef', '#e64553', '#fe640b', '#df8e1d', '#40a02b', '#209fb5', '#1e66f5', '#7287fd'],
  cssVar: {
    '--main-color': '#444446',
    '--main-bgcolor': '#ffffff',
    '--color': '#777777',
    '--bgcolor': '#f6f6f6',
  },
})
```

Mind Elixirã¯`prefers-color-scheme`ã®å¤‰æ›´ã‚’ç›£è¦–ã—ã¾ã›ã‚“ã€‚ã‚¹ã‚­ãƒ¼ãƒ ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã¯ã€ãƒ†ãƒ¼ãƒã‚’**æ‰‹å‹•ã§**å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

## ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

| ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ       | æ©Ÿèƒ½                           |
| ------------------ | -------------------------------- |
| Enter              | å…„å¼Ÿãƒãƒ¼ãƒ‰ã‚’æŒ¿å…¥                |
| Tab                | å­ãƒãƒ¼ãƒ‰ã‚’æŒ¿å…¥                  |
| F1                 | ãƒãƒƒãƒ—ã‚’ä¸­å¤®ã«é…ç½®              |
| F2                 | ç¾åœ¨ã®ãƒãƒ¼ãƒ‰ã®ç·¨é›†ã‚’é–‹å§‹        |
| â†‘                  | å‰ã®å…„å¼Ÿãƒãƒ¼ãƒ‰ã‚’é¸æŠ            |
| â†“                  | æ¬¡ã®å…„å¼Ÿãƒãƒ¼ãƒ‰ã‚’é¸æŠ            |
| â† / â†’              | è¦ªã¾ãŸã¯æœ€åˆã®å­ãƒãƒ¼ãƒ‰ã‚’é¸æŠ    |
| PageUp / Alt + â†‘   | ãƒãƒ¼ãƒ‰ã‚’ä¸Šã«ç§»å‹•                |
| PageDown / Alt + â†“ | ãƒãƒ¼ãƒ‰ã‚’ä¸‹ã«ç§»å‹•                |
| Ctrl + â†‘           | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚µã‚¤ãƒ‰ã«å¤‰æ›´ |
| Ctrl + â†           | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å·¦ã«å¤‰æ›´    |
| Ctrl + â†’           | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å³ã«å¤‰æ›´    |
| Ctrl + C           | ç¾åœ¨ã®ãƒãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼            |
| Ctrl + V           | ã‚³ãƒ”ãƒ¼ã—ãŸãƒãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘      |
| Ctrl + "+"         | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã‚’ã‚ºãƒ¼ãƒ ã‚¤ãƒ³      |
| Ctrl + "-"         | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã‚’ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ    |
| Ctrl + 0           | ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ          |

## ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 

- [@mind-elixir/node-menu](https://github.com/ssshooter/node-menu)
- [@mind-elixir/node-menu-neo](https://github.com/ssshooter/node-menu-neo)
- [@mind-elixir/export-xmind](https://github.com/ssshooter/export-xmind)
- [@mind-elixir/export-html](https://github.com/ssshooter/export-html)
- [mind-elixir-react](https://github.com/ssshooter/mind-elixir-react)

PRsã¯å¤§æ­“è¿ã§ã™ï¼

## é–‹ç™º

```
pnpm i
pnpm dev
```

`dev.dist.ts`ã§ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ï¼š

```
pnpm build
pnpm link ./
```

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¾ã™ï¼š

```
# api-extractorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install -g @microsoft/api-extractor
# /src/docs.tsã‚’ç¶­æŒ
# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
pnpm doc
pnpm doc:md
```

## è¬è¾

- [@viselect/vanilla](https://github.com/simonwep/selection/tree/master/packages/vanilla)

## è²¢çŒ®è€…

Mind Elixirã¸ã®è²¢çŒ®ã«æ„Ÿè¬ã—ã¾ã™ï¼ã‚ãªãŸã®ã‚µãƒãƒ¼ãƒˆã¨çŒ®èº«ãŒã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚ˆã‚Šè‰¯ãã—ã¾ã™ã€‚

<a href="https://github.com/SSShooter/mind-elixir-core/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=SSShooter/mind-elixir-core&columns=6" />
</a>
