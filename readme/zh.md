<p align="center">
  <a href="https://docs.mind-elixir.com" target="_blank" rel="noopener noreferrer">
    <img width="150" src="https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/logo2.png" alt="mindelixir logo2">
  </a>
  <h1 align="center">Mind Elixir</h1>
</p>

<p align="center">
<a href="https://trendshift.io/repositories/13049" target="_blank"><img src="https://trendshift.io/api/badge/repositories/13049" alt="SSShooter%2Fmind-elixir-core | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/></a>
</p>

<p align="center">
  <a href="https://www.npmjs.com/package/mind-elixir">
    <img src="https://img.shields.io/npm/v/mind-elixir" alt="version">
  </a>
  <a href="https://github.com/ssshooter/mind-elixir-core/blob/master/LICENSE">
    <img src="https://img.shields.io/npm/l/mind-elixir" alt="license">
  </a>
  <a href="https://app.codacy.com/gh/ssshooter/mind-elixir-core?utm_source=github.com&utm_medium=referral&utm_content=ssshooter/mind-elixir-core&utm_campaign=Badge_Grade_Settings">
    <img src="https://api.codacy.com/project/badge/Grade/09fadec5bf094886b30cea6aabf3a88b" alt="code quality">
  </a>
  <a href="https://bundlephobia.com/result?p=mind-elixir">
    <img src="https://badgen.net/bundlephobia/dependency-count/mind-elixir" alt="dependency-count">
  </a>
  <a href="https://packagephobia.com/result?p=mind-elixir">
    <img src="https://packagephobia.com/badge?p=mind-elixir" alt="package size">
  </a>
</p>

[English](/readme.md) |
[ä¸­æ–‡](/readme/zh.md) |
[EspaÃ±ol](/readme/es.md) |
[FranÃ§ais](/readme/fr.md) |
[PortuguÃªs](/readme/pt.md) |
[Ğ ÑƒÑÑĞºĞ¸Ğ¹](/readme/ru.md) |
[æ—¥æœ¬èª](/readme/ja.md) |
[í•œêµ­ì–´](/readme/ko.md)

Mind elixir æ˜¯ä¸€ä¸ªå¼€æºçš„ JavaScript æ€ç»´å¯¼å›¾æ ¸å¿ƒã€‚ä½ å¯ä»¥åœ¨ä»»ä½•å‰ç«¯æ¡†æ¶ä¸­ä½¿ç”¨å®ƒã€‚

## ç‰¹æ€§

### ğŸ¨ **ç”¨æˆ·ä½“éªŒ**

- **æµç•…çš„äº¤äº’** - æµç•…ç›´è§‚çš„äº¤äº’ä½“éªŒ
- **ç²¾å¿ƒè®¾è®¡** - ç°ä»£ç®€æ´çš„ç•Œé¢
- **ç§»åŠ¨ç«¯å‹å¥½** - æ”¯æŒç§»åŠ¨è®¾å¤‡çš„è§¦æ‘¸äº‹ä»¶
- **é«˜æ•ˆå¿«æ·é”®** - ä¸ºé«˜çº§ç”¨æˆ·æä¾›çš„é”®ç›˜å¿«æ·é”®

### âš¡ **æ€§èƒ½ä¸æ¶æ„**

- **è½»é‡çº§** - æœ€å°çš„æ‰“åŒ…ä½“ç§¯
- **é«˜æ€§èƒ½** - é’ˆå¯¹å¤§å‹æ€ç»´å¯¼å›¾ä¼˜åŒ–
- **æ¡†æ¶æ— å…³** - å¯ä¸ä»»ä½•å‰ç«¯æ¡†æ¶é…åˆä½¿ç”¨
- **æ’ä»¶åŒ–** - å¯æ‰©å±•çš„æ¶æ„

### ğŸ› ï¸ **æ ¸å¿ƒåŠŸèƒ½**

- **äº¤äº’å¼ç¼–è¾‘** - å†…ç½®æ‹–æ”¾å’ŒèŠ‚ç‚¹ç¼–è¾‘åŠŸèƒ½
- **æ‰¹é‡æ“ä½œ** - å¤šèŠ‚ç‚¹é€‰æ‹©å’Œæ“ä½œ
- **æ’¤é”€/é‡åš** - å®Œæ•´çš„æ“ä½œå†å²
- **èŠ‚ç‚¹è¿æ¥ä¸æ€»ç»“** - è‡ªå®šä¹‰èŠ‚ç‚¹è¿æ¥å’Œå†…å®¹æ€»ç»“

### ğŸ“¤ **å¯¼å‡ºä¸å®šåˆ¶**

- **å¤šç§å¯¼å‡ºæ ¼å¼** - SVG / PNG / HTML å¯¼å‡º
- **è½»æ¾æ ·å¼åŒ–** - ä½¿ç”¨ CSS å˜é‡è‡ªå®šä¹‰æ€ç»´å¯¼å›¾
- **ä¸»é¢˜æ”¯æŒ** - å†…ç½®ä¸»é¢˜å’Œè‡ªå®šä¹‰æ ·å¼

[v5 ç ´åæ€§å˜æ›´](https://github.com/SSShooter/mind-elixir-core/wiki/Breaking-Change#500)

<details>
<summary>ç›®å½•</summary>

- [ç‰¹æ€§](#ç‰¹æ€§)
  - [ğŸ¨ **ç”¨æˆ·ä½“éªŒ**](#-ç”¨æˆ·ä½“éªŒ)
  - [âš¡ **æ€§èƒ½ä¸æ¶æ„**](#-æ€§èƒ½ä¸æ¶æ„)
  - [ğŸ› ï¸ **æ ¸å¿ƒåŠŸèƒ½**](#ï¸-æ ¸å¿ƒåŠŸèƒ½)
  - [ğŸ“¤ **å¯¼å‡ºä¸å®šåˆ¶**](#-å¯¼å‡ºä¸å®šåˆ¶)
- [ç«‹å³è¯•ç”¨](#ç«‹å³è¯•ç”¨)
  - [æ¼”ç¤º](#æ¼”ç¤º)
- [æ–‡æ¡£](#æ–‡æ¡£)
- [ä½¿ç”¨](#ä½¿ç”¨)
  - [å®‰è£…](#å®‰è£…)
    - [NPM](#npm)
    - [Script æ ‡ç­¾](#script-æ ‡ç­¾)
  - [åˆå§‹åŒ–](#åˆå§‹åŒ–)
  - [æ•°æ®ç»“æ„](#æ•°æ®ç»“æ„)
  - [äº‹ä»¶å¤„ç†](#äº‹ä»¶å¤„ç†)
  - [æ•°æ®å¯¼å‡ºå’Œå¯¼å…¥](#æ•°æ®å¯¼å‡ºå’Œå¯¼å…¥)
  - [Markdown æ”¯æŒ](#markdown-æ”¯æŒ)
  - [æ“ä½œå®ˆå«](#æ“ä½œå®ˆå«)
- [å¯¼å‡ºä¸ºå›¾ç‰‡](#å¯¼å‡ºä¸ºå›¾ç‰‡)
  - [å·²å¼ƒç”¨çš„ API](#å·²å¼ƒç”¨çš„-api)
- [ä¸»é¢˜](#ä¸»é¢˜)
- [å¿«æ·é”®](#å¿«æ·é”®)
- [è°åœ¨ä½¿ç”¨](#è°åœ¨ä½¿ç”¨)
- [ç”Ÿæ€ç³»ç»Ÿ](#ç”Ÿæ€ç³»ç»Ÿ)
- [å¼€å‘](#å¼€å‘)
- [æ„Ÿè°¢](#æ„Ÿè°¢)
- [è´¡çŒ®è€…](#è´¡çŒ®è€…)

</details>

## ç«‹å³è¯•ç”¨

![mindelixir](https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/screenshot5_2.jpg)

https://mind-elixir.com/

### æ¼”ç¤º

- Vanilla JS - https://codepen.io/ssshooter/pen/vEOqWjE
- React - https://codesandbox.io/p/devbox/mind-elixir-3-x-react-18-x-forked-f3mtcd
- Vue3 - https://codesandbox.io/p/sandbox/mind-elixir-3-x-vue3-lth484

## æ–‡æ¡£

https://docs.mind-elixir.com/

## ä½¿ç”¨

### å®‰è£…

#### NPM

```bash
npm i mind-elixir -S
```

```javascript
import MindElixir from 'mind-elixir'
```

#### Script æ ‡ç­¾

```html
<script type="module" src="https://cdn.jsdelivr.net/npm/mind-elixir/dist/MindElixir.js"></script>
```

å¹¶åœ¨ä½ çš„ CSS æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```css
@import 'https://cdn.jsdelivr.net/npm/mind-elixir/dist/style.css';
```

### åˆå§‹åŒ–

```html
<div id="map"></div>
<style>
  #map {
    height: 500px;
    width: 100%;
  }
</style>
```

**é‡å¤§å˜æ›´** è‡ª 1.0.0 èµ·ï¼Œ`data` åº”ä¼ é€’ç»™ `init()`ï¼Œè€Œä¸æ˜¯ `options`ã€‚

```javascript
import MindElixir from 'mind-elixir'
import example from 'mind-elixir/dist/example1'

let options = {
  el: '#map', // æˆ– HTMLDivElement
  direction: MindElixir.LEFT,
  draggable: true, // é»˜è®¤ true
  contextMenu: true, // é»˜è®¤ true
  toolBar: true, // é»˜è®¤ true
  keypress: true, // é»˜è®¤ true
  locale: 'en', // [zh_CN,zh_TW,en,ja,pt,ru,ro] ç­‰å¾… PRs
  overflowHidden: false, // é»˜è®¤ false
  mainLinkStyle: 2, // [1,2] é»˜è®¤ 1
  mouseSelectionButton: 0, // 0 ä¸ºå·¦é”®ï¼Œ2 ä¸ºå³é”®ï¼Œé»˜è®¤ 0
  contextMenuOption: {
    focus: true,
    link: true,
    extend: [
      {
        name: 'èŠ‚ç‚¹ç¼–è¾‘',
        onclick: () => {
          alert('æ‰©å±•èœå•')
        },
      },
    ],
  },
  before: {
    insertSibling(el, obj) {
      return true
    },
    async addChild(el, obj) {
      await sleep()
      return true
    },
  },
}

let mind = new MindElixir(options)

mind.install(plugin) // å®‰è£…ä½ çš„æ’ä»¶

// åˆ›å»ºæ–°çš„åœ°å›¾æ•°æ®
const data = MindElixir.new('new topic')
// æˆ– `example`
// æˆ–ä» `.getData()` è¿”å›çš„æ•°æ®
mind.init(data)

// è·å–ä¸€ä¸ªèŠ‚ç‚¹
MindElixir.E('node-id')
```

### æ•°æ®ç»“æ„

```javascript
// åˆ°ç›®å‰ä¸ºæ­¢çš„æ•´ä¸ªèŠ‚ç‚¹æ•°æ®ç»“æ„
const nodeData = {
  topic: 'èŠ‚ç‚¹ä¸»é¢˜',
  id: 'bd1c24420cd2c2f5',
  style: { fontSize: '32', color: '#3298db', background: '#ecf0f1' },
  expanded: true,
  parent: null,
  tags: ['æ ‡ç­¾'],
  icons: ['ğŸ˜€'],
  hyperLink: 'https://github.com/ssshooter/mind-elixir-core',
  image: {
    url: 'https://raw.githubusercontent.com/ssshooter/mind-elixir-core/master/images/logo2.png', // å¿…å¡«
    // ä½ éœ€è¦æŸ¥è¯¢å›¾ç‰‡çš„é«˜åº¦å’Œå®½åº¦ï¼Œå¹¶è®¡ç®—æ˜¾ç¤ºå›¾ç‰‡çš„é€‚å½“å€¼
    height: 90, // å¿…å¡«
    width: 90, // å¿…å¡«
  },
  children: [
    {
      topic: 'å­èŠ‚ç‚¹',
      id: 'xxxx',
      // ...
    },
  ],
}
```

### äº‹ä»¶å¤„ç†

```javascript
mind.bus.addListener('operation', operation => {
  console.log(operation)
  // è¿”å› {
  //   name: æ“ä½œåç§°,
  //   obj: ç›®æ ‡å¯¹è±¡
  // }

  // name: [insertSibling|addChild|removeNode|beginEdit|finishEdit]
  // obj: ç›®æ ‡

  // name: moveNode
  // obj: {from:ç›®æ ‡1,to:ç›®æ ‡2}
})

mind.bus.addListener('selectNodes', nodes => {
  console.log(nodes)
})

mind.bus.addListener('expandNode', node => {
  console.log('expandNode: ', node)
})
```

### æ•°æ®å¯¼å‡ºå’Œå¯¼å…¥

```javascript
// æ•°æ®å¯¼å‡º
const data = mind.getData() // JavaScript å¯¹è±¡ï¼Œè§ src/example.js
mind.getDataString() // å­—ç¬¦ä¸²åŒ–å¯¹è±¡

// æ•°æ®å¯¼å…¥
// åˆå§‹åŒ–
let mind = new MindElixir(options)
mind.init(data)
// æ•°æ®æ›´æ–°
mind.refresh(data)
```

### Markdown æ”¯æŒ

Mind Elixir æ”¯æŒè‡ªå®šä¹‰ markdown è§£æï¼š

```javascript
// ç¦ç”¨ markdownï¼ˆé»˜è®¤ï¼‰
let mind = new MindElixir({
  // çœç•¥ markdown é€‰é¡¹ - ä¸è¿›è¡Œ markdown å¤„ç†
})

// ä½¿ç”¨è‡ªå®šä¹‰ markdown è§£æå™¨
let mind = new MindElixir({
  markdown: text => {
    // ä½ çš„è‡ªå®šä¹‰ markdown å®ç°
    return text
      .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
      .replace(/\*(.*?)\*/g, '<em>$1</em>')
      .replace(/`(.*?)`/g, '<code>$1</code>')
  },
})

// ä½¿ç”¨ä»»ä½• markdown åº“ï¼ˆä¾‹å¦‚ markedã€markdown-it ç­‰ï¼‰
import { marked } from 'marked'
let mind = new MindElixir({
  markdown: text => marked(text),
})
```

### æ“ä½œå®ˆå«

```javascript
let mind = new MindElixir({
  // ...
  before: {
    insertSibling(el, obj) {
      console.log(el, obj)
      if (this.currentNode.nodeObj.parent.root) {
        return false
      }
      return true
    },
    async addChild(el, obj) {
      await sleep()
      if (this.currentNode.nodeObj.parent.root) {
        return false
      }
      return true
    },
  },
})
```

## å¯¼å‡ºä¸ºå›¾ç‰‡

å®‰è£… `@zumer/snapdom`ï¼Œç„¶åï¼š

```typescript
import { snapdom } from '@zumer/snapdom'

const download = async () => {
  const result = await snapdom(mind.nodes)
  await result.download({ format: 'jpg', filename: 'my-capture' })
}
```

æœ‰å…³å…¶ä»–å¯¼å‡ºæ ¼å¼å’Œé«˜çº§é€‰é¡¹ï¼Œè¯·å‚é˜… [Mind Elixir æ–‡æ¡£](https://ssshooter.com/en/how-to-use-mind-elixir/#exporting-images)ã€‚

### å·²å¼ƒç”¨çš„ API

> âš ï¸ **å·²å¼ƒç”¨**ï¼š`mind.exportSvg()` æ–¹æ³•å·²å¼ƒç”¨ï¼Œå°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ç§»é™¤ã€‚

```typescript
// å·²å¼ƒç”¨ - è¯·ä¸è¦åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨
const svgData = await mind.exportSvg()
```

## ä¸»é¢˜

```javascript
const options = {
  // ...
  theme: {
    name: 'Dark',
    // ä¸»çº¿é¢œè‰²è°ƒè‰²æ¿
    palette: ['#848FA0', '#748BE9', '#D2F9FE', '#4145A5', '#789AFA', '#706CF4', '#EF987F', '#775DD5', '#FCEECF', '#DA7FBC'],
    // è¦†ç›– CSS å˜é‡
    cssVar: {
      '--main-color': '#ffffff',
      '--main-bgcolor': '#4c4f69',
      '--color': '#cccccc',
      '--bgcolor': '#252526',
      '--panel-color': '255, 255, 255',
      '--panel-bgcolor': '45, 55, 72',
    },
    // æ‰€æœ‰å˜é‡è§ /src/index.less
  },
  // ...
}

// ...

mind.changeTheme({
  name: 'Latte',
  palette: ['#dd7878', '#ea76cb', '#8839ef', '#e64553', '#fe640b', '#df8e1d', '#40a02b', '#209fb5', '#1e66f5', '#7287fd'],
  cssVar: {
    '--main-color': '#444446',
    '--main-bgcolor': '#ffffff',
    '--color': '#777777',
    '--bgcolor': '#f6f6f6',
  },
})
```

è¯·æ³¨æ„ï¼ŒMind Elixir ä¸ä¼šè§‚å¯Ÿ `prefers-color-scheme` çš„å˜åŒ–ã€‚å½“æ–¹æ¡ˆå˜åŒ–æ—¶ï¼Œè¯·**æ‰‹åŠ¨**æ›´æ”¹ä¸»é¢˜ã€‚

## å¿«æ·é”®

è¯·å‚é˜… [å¿«æ·é”®æŒ‡å—](https://docs.mind-elixir.com/docs/guides/shortcuts) è·å–è¯¦ç»†ä¿¡æ¯ã€‚

## è°åœ¨ä½¿ç”¨

- [Mind Elixir Desktop](https://desktop.mind-elixir.com/)

## ç”Ÿæ€ç³»ç»Ÿ

- [@mind-elixir/node-menu](https://github.com/ssshooter/node-menu)
- [@mind-elixir/node-menu-neo](https://github.com/ssshooter/node-menu-neo)
- [@mind-elixir/export-xmind](https://github.com/ssshooter/export-xmind)
- [@mind-elixir/export-html](https://github.com/ssshooter/export-html)
- [mind-elixir-react](https://github.com/ssshooter/mind-elixir-react)

æ¬¢è¿ PRï¼

## å¼€å‘

```
pnpm i
pnpm dev
```

ä½¿ç”¨ `dev.dist.ts` æµ‹è¯•ç”Ÿæˆçš„æ–‡ä»¶ï¼š

```
pnpm build
pnpm link ./
```

æ›´æ–°æ–‡æ¡£ï¼š

```
# å®‰è£… api-extractor
pnpm install -g @microsoft/api-extractor
# ç»´æŠ¤ /src/docs.ts
# ç”Ÿæˆæ–‡æ¡£
pnpm doc
pnpm doc:md
```

ä½¿ç”¨ [DeepWiki](https://deepwiki.com/SSShooter/mind-elixir-core) äº†è§£æ›´å¤šå…³äº Mind Elixir çš„ä¿¡æ¯

## æ„Ÿè°¢

- [@viselect/vanilla](https://github.com/simonwep/selection/tree/master/packages/vanilla)

## è´¡çŒ®è€…

æ„Ÿè°¢ä½ ä»¬å¯¹ Mind Elixir çš„è´¡çŒ®ï¼ä½ ä»¬çš„æ”¯æŒå’Œå¥‰çŒ®ä½¿è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

<a href="https://github.com/SSShooter/mind-elixir-core/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=SSShooter/mind-elixir-core" />
</a>
